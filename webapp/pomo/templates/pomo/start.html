{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf-token" content="{{ csrf_token }}">
    <title>Mysteries of Arcadia</title>

    {% load bootstrap5 %}
    {% bootstrap_css %}
    {% bootstrap_javascript %}

    <link rel="stylesheet" href="{% static 'pomo/music_player.css' %}">
    <link rel="stylesheet" href="{% static 'pomo/css/location_info_box.css' %}"></link>
    <link rel="stylesheet" href="{% static 'pomo/css/base.css' %}"></link>

    <script src="{% static 'pomo/app.js' %}"></script>
    <script src="{% static 'pomo/js/game.js' %}"></script>
    <script>
        // Deserialize the JSON data passed from Django
        //const playerState = JSON.parse('{{ player_state_json|safe }}');
        //const locationStates = JSON.parse('{{ location_states_json|safe }}');

    </script>

    </head>
    <body>
        {% include "pomo/includes/navbar.html" %}

    <div id="location-info-box" class="location-info-box" style="display: none;">
        <h2 id="location-name"></h2>
        <p id="location-description"></p>
        <div id="events-container"></div>
        <button onclick="closeLocationInfoBox()">Close</button>
    </div>

   



    <!-- Image Map Generated by http://www.image-map.net/ -->
    <img src="/static/pomo/img/map_desktop.png" class="mx-auto d-block desktop-image" usemap="#image-map-desktop">

    <map name="image-map-desktop">
        <area target="" alt="astronomy_tower" title="astronomy_tower" onclick="handleLocationClick('astronomy_tower')" href="#" coords="186,340,354,411" shape="rect"></area>
        <area target="" alt="headmasters_office" title="headmasters_office" onclick="handleLocationClick('headmaster_office')" href="#" coords="705,339,874,411" shape="rect"></area>
        <area target="" alt="great_hall" title="great_hall" onclick="handleLocationClick('great_hall')" href="#" coords="438,426,634,469" shape="rect"></area>
        <area target="" alt="trophy_rooms" title="trophy_rooms" href="{% url 'trophy_room' %}" coords="52,503,176,590" shape="rect"></area>
        <area target="" alt="council" title="council" href="#" onclick="handleLocationClick('council')" coords="857,488,985,576" shape="rect"></area>
        <area target="" alt="library" title="library" href="#" onclick="handleLocationClick('library')" coords="856,615,984,703" shape="rect"></area>
        <area target="" alt="gardens" title="gardens" href="#" onclick="handleLocationClick('gardens')" coords="893,743,1021,819" shape="rect"></area>
        <area target="" alt="mystic_market" title="mystic_market" onclick="handleLocationClick('mystic_market')" href="#" coords="50,790,177,875" shape="rect"></area>
        <area target="" alt="class_rooms" title="class_rooms" onclick="handleLocationClick('class_rooms')" href="#" coords="854,857,982,946" shape="rect"></area>
        <area target="" alt="common_rooms" title="common_rooms" onclick="handleLocationClick('common_rooms')" href="#" coords="49,1021,176,1107" shape="rect"></area>
        <area target="" alt="gallery" title="gallery" href="#" onclick="handleLocationClick('gallery')" coords="407,1029,665,1069" shape="rect"></area>
        <area target="" alt="potions_class" title="potions_class" onclick="handleLocationClick('potions_class')" href="#" coords="853,1019,983,1108" shape="rect"></area>
        <area target="" alt="courtyard" title="courtyard" onclick="handleLocationClick('courtyard')" href="#" coords="439,1321,632,1361" shape="rect"></area>
    </map>

    <!-- Mobile Image Map -->
    <img src="/static/pomo/img/map_mobile_small.png" class="mx-auto d-block mobile-image" usemap="#image-map-mobile">

    <!-- Image Map Generated by http://www.image-map.net/ -->
    <map name="image-map-mobile">
        <area target="" alt="astronomy_tower" title="astronomy_tower" onclick="handleLocationClick('astronomy_tower')" href="#" coords="74,171,142,204" shape="rect">
        <area target="" alt="headmasters_office" title="headmasters_office" onclick="handleLocationClick('headmaster_office')" href="#" coords="282,169,351,206" shape="rect">
        <area target="" alt="great_hall" title="great_hall" href="#" onclick="handleLocationClick('great_hall')" coords="176,213,255,234" shape="rect">
        <area target="" alt="trophy_rooms" title="trophy_rooms" href="{% url 'trophy_room' %}" coords="21,250,72,293" shape="rect">
        <area target="" alt="council" title="council" onclick="handleLocationClick('council')" href="#" coords="344,243,395,287" shape="rect">
        <area target="" alt="library" title="library" onclick="handleLocationClick('library')" href="#" coords="345,307,394,351" shape="rect">
        <area target="" alt="gardens" title="gardens" onclick="handleLocationClick('gardens')" href="#" coords="359,370,413,409" shape="rect">
        <area target="" alt="mystic_market" title="mystic_market" onclick="handleLocationClick('mystic_market')" href="#" coords="21,391,71,436" shape="rect">
        <area target="" alt="class_rooms" title="class_rooms" onclick="handleLocationClick('class_rooms')" href="#" coords="344,427,395,469" shape="rect">
        <area target="" alt="common_rooms" title="common_rooms" onclick="handleLocationClick('common_rooms')" href="#" coords="20,507,71,549" shape="rect">
        <area target="" alt="gallery" title="gallery" onclick="handleLocationClick('gallery')" href="#" coords="163,511,266,533" shape="rect">
        <area target="" alt="potions_class" title="potions_class" onclick="handleLocationClick('potions_class')" href="#" coords="343,508,395,550" shape="rect">
        <area target="" alt="courtyard" title="courtyard" onclick="handleLocationClick('courtyard')" href="#" coords="176,657,255,678" shape="rect">
    </map>

    </body>
    </html>
